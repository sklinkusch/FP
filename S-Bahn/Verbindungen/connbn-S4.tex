% S41 (Halensee -> Südkreuz)
\ifrgm
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.6em]{->}{BGB}{BSAL} % Gesundbrunnen - Schönhauser Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BSAL}{BPLA} % Schönhauser Allee - Prenzlauer Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BPLA}{BGSS} % Prenzlauer Allee - Greifswalder Straße (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{->}{BGSS}{BLST} % Greifswalder Straße - Landsberger Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BLST}{BSTO} % Landsberger Allee - Storkower Straße (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BSTO}{BFA} % Storkower Straße - Frankfurter Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BFA}{BOK} % Frankfurter Allee - Ostkreuz (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BOK}{BTP} % Ostkreuz - Treptower Park (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.6em]{BTP}{BSO} % Treptower Park - Sonnenallee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.6em]{->}{BSO}{BNK} % Sonnenallee - Neukölln (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BNK}{BHER} % Neukölln - Hermannstraße (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{BHER}{BTHF} % Hermannstraße - Tempelhof (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.8em]{->}{BTHF}{BSK} % Tempelhof - Südkreuz (S41)
\fi
% S42 (Südkreuz -> Halensee)
\ifrgm
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.2em]{<-}{BGB}{BSAL} % Gesundbrunnen - Schönhauser Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BSAL}{BPLA} % Schönhauser Allee - Prenzlauer Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BPLA}{BGSS} % Prenzlauer Allee - Greifswalder Straße (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{<-}{BGSS}{BLST} % Greifswalder Straße - Landsberger Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BLST}{BSTO} % Landsberger Allee - Storkower Straße (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BSTO}{BFA} % Storkower Straße - Frankfurter Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BFA}{BOK} % Frankfurter Allee - Ostkreuz (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BOK}{BTP} % Ostkreuz - Treptower Park (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.2em]{BTP}{BSO} % Treptower Park - Sonnenallee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.2em]{<-}{BSO}{BNK} % Sonnenallee - Neukölln (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BNK}{BHER} % Neukölln - Hermannstraße (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{BHER}{BTHF} % Hermannstraße - Tempelhof (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=-0.4em]{<-}{BTHF}{BSK} % Tempelhof - Südkreuz (S42)
\fi
% S41 (Südkreuz -> Südkreuz)
\ifrgm
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.2em]{->}{BGB}{BSAL} % Gesundbrunnen - Schönhauser Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BSAL}{BPLA} % Schönhauser Allee - Prenzlauer Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BPLA}{BGSS} % Prenzlauer Allee - Greifswalder Straße (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{->}{BGSS}{BLST} % Greifswalder Straße - Landsberger Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BLST}{BSTO} % Landsberger Allee - Storkower Straße (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BSTO}{BFA} % Storkower Straße - Frankfurter Allee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BFA}{BOK} % Frankfurter Allee - Ostkreuz (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BOK}{BTP} % Ostkreuz - Treptower Park (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.2em]{BTP}{BSO} % Treptower Park - Sonnenallee (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.2em]{->}{BSO}{BNK} % Sonnenallee - Neukölln (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BNK}{BHER} % Neukölln - Hermannstraße (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{BHER}{BTHF} % Hermannstraße - Tempelhof (S41)
 \ncline[linecolor=lightbrown,linewidth=0.3em]{->}{BTHF}{BSK} % Tempelhof - Südkreuz (S41)
\fi
% S42 (Südkreuz -> Südkreuz)
\ifrgm
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.6em]{<-}{BGB}{BSAL} % Gesundbrunnen - Schönhauser Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BSAL}{BPLA} % Schönhauser Allee - Prenzlauer Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BPLA}{BGSS} % Prenzlauer Allee - Greifswalder Straße (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{<-}{BGSS}{BLST} % Greifswalder Straße - Landsberger Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BLST}{BSTO} % Landsberger Allee - Storkower Straße (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BSTO}{BFA} % Storkower Straße - Frankfurter Allee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BFA}{BOK} % Frankfurter Allee - Ostkreuz (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BOK}{BTP} % Ostkreuz - Treptower Park (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.6em]{BTP}{BSO} % Treptower Park - Sonnenallee (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.6em]{<-}{BSO}{BNK} % Sonnenallee - Neukölln (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BNK}{BHER} % Neukölln - Hermannstraße (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{BHER}{BTHF} % Hermannstraße - Tempelhof (S42)
 \ncline[linecolor=lightbrown,linewidth=0.3em,offset=0.4em]{<-}{BTHF}{BSK} % Tempelhof - Südkreuz (S42)
\fi
% S46
\ifdora
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=0.8em]{BNK}{BHER} % Neukölln - Hermannstraße (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=0.8em]{BHER}{BTHF} % Hermannstraße - Tempelhof (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=0.8em]{BTHF}{BSK} % Tempelhof - Südkreuz (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BNK}{BKHD} % Neukölln - Köllnische Heide (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BKHD}{BBMW} % Köllnische Heide - Baumschulenweg (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=-0.4em]{BBMW}{BSW} % Baumschulenweg - Schöneweide (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=-0.4em]{BSW}{BSCF} % Schöneweide - Betriebsbahnhof Schöneweide (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=-0.4em]{BSCF}{BADL} % Betriebsbahnhof Schöneweide - Adlershof (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em,offset=-0.2em]{BADL}{BGAS} % Adlershof - Grünau (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BGAS}{BEIW} % Grünau - Eichwalde (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BEIW}{BZTH} % Eichwalde - Zeuthen (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BZTH}{BWI} % Zeuthen - Wildau (S46)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BWI}{BKW} % Wildau - Königs Wusterhausen (S46)
\fi
% S47
\ifkonrad
 \ncline[linecolor=mbrown,linewidth=0.3em]{BSW}{BOSP} % Schöneweide - Oberspree (S47)
 \ncline[linecolor=mbrown,linewidth=0.3em]{BOSP}{BSPF} % Oberspree - Spindlersfeld (S47)
\fi
